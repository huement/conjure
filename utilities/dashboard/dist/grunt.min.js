/*! PressCraft-Dashboard - v1.0.0 */
var failCount=0;function grabStats(){$.ajax({dataType:"json",url:"widgets/sys_stats.php",success:function(t){console.log(t),setTimeout("grabStats()",1e4),cpuCalc(t.cpu);var a=parseInt(100*t.mem_free).toFixed(0)+'<small style="color:#FEFEFE">%</span>',e=parseInt(1e3*t.mem_total).toFixed(0)+" <small>GB</span>";$("#mem_free").html(a),$("#mem_total").html(e),$("#hdd_used").html(t.hdd+'<small style="color:#FEFEFE">%</span>'),$("#uptime").html(t.upt)},error:function(t){failCount++,console.log("system stats could not be fetched"),failCount<5&&setTimeout("grabStats()",1e4)}})}function cpuCalc(t){var a=t[0]+t[1]+t[2],e=a/3*100;console.log(a);var s=parseFloat(e).toFixed(0);$("#cpu_target").html(s+'<small style="color:#FEFEFE">%</span>')}function stylestatus(t){var a="data/stylestats_"+t+".json";$.ajax({dataType:"json",url:a,success:function(t){console.log(t)},error:function(t){console.log("Need StyleStats for that Slug!")}})}function statGraph(){var t=["January","February","March","April","May","June","July"],a={labels:t,datasets:[{label:"My First dataset",backgroundColor:$.brandPrimary,borderColor:"rgba(255,255,255,.55)",data:[65,59,84,84,51,55,40]}]},e={maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{gridLines:{color:"transparent",zeroLineColor:"transparent"},ticks:{fontSize:2,fontColor:"transparent"}}],yAxes:[{display:!1,ticks:{display:!1,min:Math.min.apply(Math,a.datasets[0].data)-5,max:Math.max.apply(Math,a.datasets[0].data)+5}}]},elements:{line:{borderWidth:1},point:{radius:4,hitRadius:10,hoverRadius:4}}},s=$("#card-chart1");new Chart(s,{type:"line",data:a,options:e}),a={labels:t,datasets:[{label:"My First dataset",backgroundColor:$.brandInfo,borderColor:"rgba(255,255,255,.55)",data:[1,18,9,17,34,22,11]}]},e={maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{gridLines:{color:"transparent",zeroLineColor:"transparent"},ticks:{fontSize:2,fontColor:"transparent"}}],yAxes:[{display:!1,ticks:{display:!1,min:Math.min.apply(Math,a.datasets[0].data)-5,max:Math.max.apply(Math,a.datasets[0].data)+5}}]},elements:{line:{tension:1e-5,borderWidth:1},point:{radius:4,hitRadius:10,hoverRadius:4}}}}$(document).ready(function(){var t,a="";console.log("fetching weather"),$.simpleWeather({woeid:"2402292",location:"",unit:"f",success:function(e){console.log(e),e.temp>70?(t="#F7AC57",a="icon-danger"):(t="#0091c2",a="icon-info"),$("#weather_icon_wrapper").addClass(a),$("#weather_icon").addClass("icon-"+e.code).addClass(a),$("#weather_city").text(e.city+", "+e.region),$("#weather_color").css("backgroundColor",t),$("#weather_temp").html(e.temp+'<sup><small style="color:#FEFEFE">Â°F</small></sup>'),$("#weather_cond").text(e.currently)},error:function(t){$("#weather").html("<p>"+t+"</p>")}}),void 0!==$("#unitTestActivity").html()&&$.ajax({dataType:"html",url:"unit_tests/unit_test_results/index.html",success:function(t){var a=$(t).find("table.table-bordered");a.addClass("table-responsive table-striped table-sm"),$("#unitTestActivity").html(a)},error:function(t){$("#unitTestActivity").html("<h3>Unit test error!</h3><p>You Unit Tests results could not be loaded.<br/>Please check your configured path or rerun your tests</p>")}}),setTimeout("grabStats()",500),$(".site-list-item").length>0&&$.each($(".site-list-item"),function(t){stylestatus($(this).data("slug"))}),statGraph()});