<h1 id="useful-wordpress-functions">Useful WordPress Functions</h1>
<p>This is a list of useful WordPress functions that I often reference to enhance or clean up my sites. Please be careful and make backups.</p>
<ul>
<li><a href="#hide-wordpress-update-nag-to-all-but-admins">Hide WordPress Update Nag to All But Admins</a></li>
<li><a href="#create-proper-wordpress-titles">Create Proper WordPress Titles</a></li>
<li><a href="#create-custom-wordpress-dashboard-widget">Create Custom WordPress Dashboard Widget</a></li>
<li><a href="#remove-all-dashboard-widgets">Remove All Dashboard Widgets</a></li>
<li><a href="#include-navigation-menus">Include Navigation Menus</a></li>
<li><a href="#insert-custom-login-logo">Insert Custom Login Logo</a></li>
<li><a href="#modify-admin-footer-text">Modify Admin Footer Text</a></li>
<li><a href="#enqueue-styles-and-scripts">Enqueue Styles and Scripts</a></li>
<li><a href="#enqueue-google-fonts">Enqueue Google Fonts</a></li>
<li><a href="#modify-excerpt-length">Modify Excerpt Length</a></li>
<li><a href="#change-read-more-link">Change Read More Link</a></li>
<li><a href="#change-more-excerpt">Change More Excerpt</a></li>
<li><a href="#disable-emoji-mess">Disable Emoji Mess</a></li>
<li><a href="#remove-comments">Remove Comments</a></li>
<li><a href="#change-media-gallery-url">Change Media Gallery URL</a></li>
<li><a href="#create-custom-thumbnail-size">Create Custom Thumbnail Size</a></li>
<li><a href="#add-categories-for-attachments">Add Categories for Attachments</a></li>
<li><a href="#add-tags-for-attachments">Add Tags for Attachments</a></li>
<li><a href="#add-custom-excerpt-to-pages">Add Custom Excerpt to Pages</a></li>
<li><a href="#create-a-global-string">Create a Global String</a></li>
<li><a href="#support-featured-images">Support Featured Images</a></li>
<li><a href="#support-search-form">Support Search Form</a></li>
<li><a href="#excluding-pages-from-search">Excluding pages from search</a></li>
<li><a href="#disable-xmlrpcphp">Disable XMLRPC</a></li>
<li><a href="#escape-html-in-posts">Escape HTML in Posts</a></li>
<li><a href="#create-custom-global-settings">Create Custom Global Settings</a></li>
<li><a href="#remove-wordpress-admin-bar">Remove WordPress Admin Bar</a></li>
<li><a href="#add-open-graph-meta-tags">Add Open Graph Meta Tags</a></li>
<li><a href="#add-custom-post-type">Add Custom Post Type</a></li>
<li><a href="#implement-preconnect-to-google-fonts-in-themes">Implement Preconnect to Google Fonts in Themes</a></li>
<li><a href="#add-thumbnail-column-to-post-listing">Add Thumbnail Column to Post Listing</a></li>
<li><a href="#add-lead-class-to-first-paragraph">Add Lead Class to First Paragraph</a></li>
<li><a href="#exclude-custom-post-type-from-search">Exclude Custom Post Type from Search</a></li>
<li><a href="#remove-query-string-from-static-resources">Remove Query String from Static Resources</a></li>
<li><a href="#disable-website-field-from-comment-form">Disable Website Field From Comment Form</a></li>
<li><a href="#modify-jquery">Modify jQuery</a></li>
<li><a href="#disable-json-rest-api">Disable JSON Rest API</a></li>
<li><a href="#switch-post-type">Switch post type</a></li>
<li><a href="#php-logger">PHP logger</a></li>
</ul>
<h2 id="hide-wordpress-update-nag-to-all-but-admins">Hide WordPress Update Nag to All But Admins</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Hide WordPress Update Nag to All But Admins
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hide_update_notice_to_all_but_admin</span><span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">if</span> ( !current_user_can( <span class="hljs-string">'update_core'</span> ) ) {
		remove_action( <span class="hljs-string">'admin_notices'</span>, <span class="hljs-string">'update_nag'</span>, <span class="hljs-number">3</span> );
	}
}
add_action( <span class="hljs-string">'admin_head'</span>, <span class="hljs-string">'hide_update_notice_to_all_but_admin'</span>, <span class="hljs-number">1</span> );
</code></pre>
<h2 id="create-proper-wordpress-titles">Create Proper WordPress Titles</h2>
<p><em>Update</em>: As of WP 4.1, the long version is no longer required - simply add the following to functions.php and remove the <code>&lt;title&gt;</code> tag from your header.</p>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Create Proper WordPress Titles
 */</span>

add_theme_support( <span class="hljs-string">'title-tag'</span> );
</code></pre>
<h2 id="create-custom-wordpress-dashboard-widget">Create Custom WordPress Dashboard Widget</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Create Custom WordPress Dashboard Widget
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dashboard_widget_function</span><span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">echo</span> <span class="hljs-string">'
		&lt;h2&gt;Custom Dashboard Widget&lt;/h2&gt;
		&lt;p&gt;Custom content here&lt;/p&gt;
	'</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add_dashboard_widgets</span><span class="hljs-params">()</span> </span>{
	wp_add_dashboard_widget( <span class="hljs-string">'custom_dashboard_widget'</span>, <span class="hljs-string">'Custom Dashoard Widget'</span>, <span class="hljs-string">'dashboard_widget_function'</span> );
}
add_action( <span class="hljs-string">'wp_dashboard_setup'</span>, <span class="hljs-string">'add_dashboard_widgets'</span> );
</code></pre>
<h2 id="remove-all-dashboard-widgets">Remove All Dashboard Widgets</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Remove All Dashboard Widgets
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">remove_dashboard_widgets</span><span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">global</span> $wp_meta_boxes;
	<span class="hljs-keyword">unset</span>( $wp_meta_boxes[<span class="hljs-string">'dashboard'</span>][<span class="hljs-string">'side'</span>][<span class="hljs-string">'core'</span>][<span class="hljs-string">'dashboard_quick_press'</span>] );
	<span class="hljs-keyword">unset</span>( $wp_meta_boxes[<span class="hljs-string">'dashboard'</span>][<span class="hljs-string">'normal'</span>][<span class="hljs-string">'core'</span>][<span class="hljs-string">'dashboard_incoming_links'</span>] );
	<span class="hljs-keyword">unset</span>( $wp_meta_boxes[<span class="hljs-string">'dashboard'</span>][<span class="hljs-string">'normal'</span>][<span class="hljs-string">'core'</span>][<span class="hljs-string">'dashboard_right_now'</span>] );
	<span class="hljs-keyword">unset</span>( $wp_meta_boxes[<span class="hljs-string">'dashboard'</span>][<span class="hljs-string">'normal'</span>][<span class="hljs-string">'core'</span>][<span class="hljs-string">'dashboard_plugins'</span>] );
	<span class="hljs-keyword">unset</span>( $wp_meta_boxes[<span class="hljs-string">'dashboard'</span>][<span class="hljs-string">'normal'</span>][<span class="hljs-string">'core'</span>][<span class="hljs-string">'dashboard_recent_drafts'</span>] );
	<span class="hljs-keyword">unset</span>( $wp_meta_boxes[<span class="hljs-string">'dashboard'</span>][<span class="hljs-string">'normal'</span>][<span class="hljs-string">'core'</span>][<span class="hljs-string">'dashboard_recent_comments'</span>] );
	<span class="hljs-keyword">unset</span>( $wp_meta_boxes[<span class="hljs-string">'dashboard'</span>][<span class="hljs-string">'side'</span>][<span class="hljs-string">'core'</span>][<span class="hljs-string">'dashboard_primary'</span>] );
	<span class="hljs-keyword">unset</span>( $wp_meta_boxes[<span class="hljs-string">'dashboard'</span>][<span class="hljs-string">'side'</span>][<span class="hljs-string">'core'</span>][<span class="hljs-string">'dashboard_secondary'</span>] );
	remove_meta_box( <span class="hljs-string">'dashboard_activity'</span>, <span class="hljs-string">'dashboard'</span>, <span class="hljs-string">'normal'</span> );
}
add_action( <span class="hljs-string">'wp_dashboard_setup'</span>, <span class="hljs-string">'remove_dashboard_widgets'</span> );
</code></pre>
<h2 id="include-navigation-menus">Include Navigation Menus</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/** 
 * Include navigation menu
 */</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">register_my_menu</span><span class="hljs-params">()</span> </span>{
  register_nav_menu(<span class="hljs-string">'nav-menu'</span>,__( <span class="hljs-string">'Navigation Menu'</span> ));
}
add_action( <span class="hljs-string">'init'</span>, <span class="hljs-string">'register_my_menu'</span> );
</code></pre>
<p>Insert this where you want it to appear, and save the menu in <strong>Appearance -&gt; Menus</strong>.</p>
<pre class="hljs"><code class="language-php"><span class="hljs-meta">&lt;?php</span> wp_nav_menu( <span class="hljs-keyword">array</span>( <span class="hljs-string">'theme_location'</span> =&gt; <span class="hljs-string">'nav-menu'</span> ) ); <span class="hljs-meta">?&gt;</span>
</code></pre>
<p>Here's the code for multiple menus/</p>
<pre class="hljs"><code class="language-php"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">register_my_menus</span><span class="hljs-params">()</span> </span>{
	register_nav_menus(
		<span class="hljs-keyword">array</span>(
			<span class="hljs-string">'new-menu'</span> =&gt; __( <span class="hljs-string">'New Menu'</span> ),
			<span class="hljs-string">'another-menu'</span> =&gt; __( <span class="hljs-string">'Another Menu'</span> ),
			<span class="hljs-string">'an-extra-menu'</span> =&gt; __( <span class="hljs-string">'An Extra Menu'</span> )
		)
	);
}
add_action( <span class="hljs-string">'init'</span>, <span class="hljs-string">'register_my_menus'</span> );
</code></pre>
<h2 id="insert-custom-login-logo">Insert Custom Login Logo</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Insert Custom Login Logo
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">custom_login_logo</span><span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">echo</span> <span class="hljs-string">'
		&lt;style&gt;
			.login h1 a { background-image: url(image.jpg) !important; background-size: 234px 67px; width:234px; height:67px; display:block; }
		&lt;/style&gt;
	'</span>;
}
add_action( <span class="hljs-string">'login_head'</span>, <span class="hljs-string">'custom_login_logo'</span> );
</code></pre>
<h2 id="modify-admin-footer-text">Modify Admin Footer Text</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Modify Admin Footer Text
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">modify_footer</span><span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">echo</span> <span class="hljs-string">'Created by &lt;a href="mailto:you@example.com"&gt;you&lt;/a&gt;.'</span>;
}
add_filter( <span class="hljs-string">'admin_footer_text'</span>, <span class="hljs-string">'modify_footer'</span> );
</code></pre>
<h2 id="enqueue-styles-and-scripts">Enqueue Styles and Scripts</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Enqueue Styles and Scripts
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">custom_scripts</span><span class="hljs-params">()</span> </span>{
	wp_enqueue_style( <span class="hljs-string">'bootstrap'</span>, get_template_directory_uri() . <span class="hljs-string">'/css/bootstrap.min.css'</span>, <span class="hljs-keyword">array</span>(), <span class="hljs-string">'3.3.6'</span> );
	wp_enqueue_style( <span class="hljs-string">'style'</span>, get_template_directory_uri() . <span class="hljs-string">'/css/style.css'</span> );
	wp_enqueue_script( <span class="hljs-string">'bootstrap'</span>, get_template_directory_uri() . <span class="hljs-string">'/js/bootstrap.min.js'</span>, <span class="hljs-keyword">array</span>(<span class="hljs-string">'jquery'</span>), <span class="hljs-string">'3.3.6'</span>, <span class="hljs-keyword">true</span> );
	wp_enqueue_script( <span class="hljs-string">'script'</span>, get_template_directory_uri() . <span class="hljs-string">'/js/script.js'</span> );
}

add_action( <span class="hljs-string">'wp_enqueue_scripts'</span>, <span class="hljs-string">'custom_scripts'</span> );
</code></pre>
<h2 id="enqueue-google-fonts">Enqueue Google Fonts</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Enqueue Google Fonts
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">google_fonts</span><span class="hljs-params">()</span> </span>{
				wp_register_style( <span class="hljs-string">'OpenSans'</span>, <span class="hljs-string">'//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800'</span> );
				wp_enqueue_style( <span class="hljs-string">'OpenSans'</span> );
		}
add_action( <span class="hljs-string">'wp_print_styles'</span>, <span class="hljs-string">'google_fonts'</span> );
</code></pre>
<h2 id="modify-excerpt-length">Modify Excerpt Length</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Modify Excerpt Length
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">custom_excerpt_length</span><span class="hljs-params">( $length )</span> </span>{
	<span class="hljs-keyword">return</span> <span class="hljs-number">25</span>;
}
add_filter( <span class="hljs-string">'excerpt_length'</span>, <span class="hljs-string">'custom_excerpt_length'</span>, <span class="hljs-number">999</span> );
</code></pre>
<h2 id="change-read-more-link">Change Read More Link</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Change Read More Link
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">custom_read_more_link</span><span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">return</span> <span class="hljs-string">'&lt;a href="'</span> . get_permalink() . <span class="hljs-string">'"&gt;Read More&lt;/a&gt;'</span>;
}
add_filter( <span class="hljs-string">'the_content_more_link'</span>, <span class="hljs-string">'custom_read_more_link'</span> );
</code></pre>
<h2 id="change-more-excerpt">Change More Excerpt</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Change More Excerpt
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">custom_more_excerpt</span><span class="hljs-params">( $more )</span> </span>{
	<span class="hljs-keyword">return</span> <span class="hljs-string">'...'</span>;
}
add_filter( <span class="hljs-string">'excerpt_more'</span>, <span class="hljs-string">'custom_more_excerpt'</span> );
</code></pre>
<h2 id="disable-emoji-mess">Disable Emoji Mess</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Disable Emoji Mess
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">disable_wp_emojicons</span><span class="hljs-params">()</span> </span>{
	remove_action( <span class="hljs-string">'admin_print_styles'</span>, <span class="hljs-string">'print_emoji_styles'</span> );
	remove_action( <span class="hljs-string">'wp_head'</span>, <span class="hljs-string">'print_emoji_detection_script'</span>, <span class="hljs-number">7</span> );
	remove_action( <span class="hljs-string">'admin_print_scripts'</span>, <span class="hljs-string">'print_emoji_detection_script'</span> );
	remove_action( <span class="hljs-string">'wp_print_styles'</span>, <span class="hljs-string">'print_emoji_styles'</span> );
	remove_filter( <span class="hljs-string">'wp_mail'</span>, <span class="hljs-string">'wp_staticize_emoji_for_email'</span> );
	remove_filter( <span class="hljs-string">'the_content_feed'</span>, <span class="hljs-string">'wp_staticize_emoji'</span> );
	remove_filter( <span class="hljs-string">'comment_text_rss'</span>, <span class="hljs-string">'wp_staticize_emoji'</span> );
	add_filter( <span class="hljs-string">'tiny_mce_plugins'</span>, <span class="hljs-string">'disable_emojicons_tinymce'</span> );
	add_filter( <span class="hljs-string">'emoji_svg_url'</span>, <span class="hljs-string">'__return_false'</span> );
}
add_action( <span class="hljs-string">'init'</span>, <span class="hljs-string">'disable_wp_emojicons'</span> );
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">disable_emojicons_tinymce</span><span class="hljs-params">( $plugins )</span> </span>{
	<span class="hljs-keyword">return</span> is_array( $plugins ) ? array_diff( $plugins, <span class="hljs-keyword">array</span>( <span class="hljs-string">'wpemoji'</span> ) ) : <span class="hljs-keyword">array</span>();
}
</code></pre>
<h2 id="remove-comments">Remove Comments</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Remove Comments
 */</span>
 
<span class="hljs-comment">// Removes from admin menu</span>
add_action( <span class="hljs-string">'admin_menu'</span>, <span class="hljs-string">'my_remove_admin_menus'</span> );
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">my_remove_admin_menus</span><span class="hljs-params">()</span> </span>{
	remove_menu_page( <span class="hljs-string">'edit-comments.php'</span> );
}
<span class="hljs-comment">// Removes from post and pages</span>
add_action( <span class="hljs-string">'init'</span>, <span class="hljs-string">'remove_comment_support'</span>, <span class="hljs-number">100</span> );
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">remove_comment_support</span><span class="hljs-params">()</span> </span>{
	remove_post_type_support( <span class="hljs-string">'post'</span>, <span class="hljs-string">'comments'</span> );
	remove_post_type_support( <span class="hljs-string">'page'</span>, <span class="hljs-string">'comments'</span> );
}
<span class="hljs-comment">// Removes from admin bar</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mytheme_admin_bar_render</span><span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">global</span> $wp_admin_bar;
	$wp_admin_bar-&gt;remove_menu( <span class="hljs-string">'comments'</span> );
}
add_action( <span class="hljs-string">'wp_before_admin_bar_render'</span>, <span class="hljs-string">'mytheme_admin_bar_render'</span> );
</code></pre>
<h2 id="change-media-gallery-url">Change Media Gallery URL</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Change Media Gallery URL
 */</span>
 
<span class="hljs-keyword">if</span> ( <span class="hljs-keyword">empty</span>( get_option( <span class="hljs-string">'upload_url_path'</span> ) ) ) {
	update_option( <span class="hljs-string">'upload_url_path'</span>, <span class="hljs-string">'http://assets.website.com/wp-content/uploads'</span> );
}
</code></pre>
<p>Also, you can filter the option value before it's retrieved from the database, which is slightly better:</p>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Change Media Gallery URL
 */</span>
 
add_filter( <span class="hljs-string">'pre_option_upload_url_path'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">'http://assets.website.com/wp-content/uploads'</span>;
});
</code></pre>
<h2 id="create-custom-thumbnail-size">Create Custom Thumbnail Size</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Create Custom Thumbnail Size
 */</span>
 
add_image_size( <span class="hljs-string">'custom-thumbnail'</span>, <span class="hljs-number">250</span>, <span class="hljs-number">250</span>, <span class="hljs-keyword">true</span> );
</code></pre>
<p><strong>Retrieve Thumbnail</strong></p>
<pre class="hljs"><code class="language-php"><span class="hljs-meta">&lt;?php</span> $thumb = wp_get_attachment_image_src( get_post_thumbnail_id($post-&gt;ID), <span class="hljs-string">'custom-thumbnail'</span> );

<span class="hljs-keyword">echo</span> $thumb[<span class="hljs-number">0</span>]; <span class="hljs-meta">?&gt;</span>
</code></pre>
<p>Since WordPress 4.4.0 you can use:</p>
<pre class="hljs"><code class="language-php">the_post_thumbnail_url( $size );
</code></pre>
<h2 id="add-categories-for-attachments">Add Categories for Attachments</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Add Categories for Attachments
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add_categories_for_attachments</span><span class="hljs-params">()</span> </span>{
	register_taxonomy_for_object_type( <span class="hljs-string">'category'</span>, <span class="hljs-string">'attachment'</span> );
}
add_action( <span class="hljs-string">'init'</span> , <span class="hljs-string">'add_categories_for_attachments'</span> );
</code></pre>
<h2 id="add-tags-for-attachments">Add Tags for Attachments</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Add Tags for Attachments
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add_tags_for_attachments</span><span class="hljs-params">()</span> </span>{
	register_taxonomy_for_object_type( <span class="hljs-string">'post_tag'</span>, <span class="hljs-string">'attachment'</span> );
}
add_action( <span class="hljs-string">'init'</span> , <span class="hljs-string">'add_tags_for_attachments'</span> );
</code></pre>
<h2 id="add-custom-excerpt-to-pages">Add Custom Excerpt to Pages</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Add Custom Excerpt to Pages
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add_page_excerpt</span><span class="hljs-params">()</span> </span>{
	add_post_type_support( <span class="hljs-string">'page'</span>, <span class="hljs-keyword">array</span>( <span class="hljs-string">'excerpt'</span> ) );
}
add_action( <span class="hljs-string">'init'</span>, <span class="hljs-string">'add_page_excerpt'</span> );
</code></pre>
<h2 id="create-a-global-string">Create a Global String</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Create a Global String
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">global_string</span><span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">return</span> <span class="hljs-string">'String'</span>;
}
</code></pre>
<p><strong>Retrieve Field</strong></p>
<pre class="hljs"><code class="language-php"><span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">echo</span> global_string(); <span class="hljs-meta">?&gt;</span>
</code></pre>
<h2 id="support-featured-images">Support Featured Images</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Support Featured Images
 */</span>
 
add_theme_support( <span class="hljs-string">'post-thumbnails'</span> );
</code></pre>
<h2 id="support-search-form">Support Search Form</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Support Search Form
 */</span>
 
add_theme_support( <span class="hljs-string">'html5'</span>, <span class="hljs-keyword">array</span>( <span class="hljs-string">'search-form'</span> ) );
</code></pre>
<h2 id="excluding-pages-from-search">Excluding pages from search</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Excluding pages from search
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">exclude_pages_from_search</span><span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">global</span> $wp_post_types;
	$wp_post_types[<span class="hljs-string">'page'</span>]-&gt;exclude_from_search = <span class="hljs-keyword">true</span>;
}
add_action( <span class="hljs-string">'init'</span>, <span class="hljs-string">'exclude_pages_from_search'</span> );
</code></pre>
<h2 id="disable-xmlrpcphp">Disable xmlrpc.php</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Disable xmlrpc.php
 */</span>
 
add_filter( <span class="hljs-string">'xmlrpc_enabled'</span>, <span class="hljs-string">'__return_false'</span> );
remove_action( <span class="hljs-string">'wp_head'</span>, <span class="hljs-string">'rsd_link'</span> );
remove_action( <span class="hljs-string">'wp_head'</span>, <span class="hljs-string">'wlwmanifest_link'</span> );
</code></pre>
<h2 id="escape-html-in-posts">Escape HTML in Posts</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Escape HTML in &lt;code&gt; or &lt;pre&gt;&lt;code&gt; tags.
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escapeHTML</span><span class="hljs-params">($arr)</span> </span>{
	<span class="hljs-keyword">if</span> (version_compare(PHP_VERSION, <span class="hljs-string">'5.2.3'</span>) &gt;= <span class="hljs-number">0</span>) {
		$output = htmlspecialchars($arr[<span class="hljs-number">2</span>], ENT_NOQUOTES, get_bloginfo(<span class="hljs-string">'charset'</span>), <span class="hljs-keyword">false</span>);
	}
	<span class="hljs-keyword">else</span> {
		$specialChars = <span class="hljs-keyword">array</span>(
			<span class="hljs-string">'&amp;'</span> =&gt; <span class="hljs-string">'&amp;amp;'</span>,
			<span class="hljs-string">'&lt;'</span> =&gt; <span class="hljs-string">'&amp;lt;'</span>,
			<span class="hljs-string">'&gt;'</span> =&gt; <span class="hljs-string">'&amp;gt;'</span>
		);

		<span class="hljs-comment">// decode already converted data</span>
		$data = htmlspecialchars_decode( $arr[<span class="hljs-number">2</span>] );
		<span class="hljs-comment">// escapse all data inside &lt;pre&gt;</span>
		$output = strtr( $data, $specialChars );
	}
	<span class="hljs-keyword">if</span> (! <span class="hljs-keyword">empty</span>($output)) {
		<span class="hljs-keyword">return</span>  $arr[<span class="hljs-number">1</span>] . $output . $arr[<span class="hljs-number">3</span>];
	}	<span class="hljs-keyword">else</span> 	{
		<span class="hljs-keyword">return</span>  $arr[<span class="hljs-number">1</span>] . $arr[<span class="hljs-number">2</span>] . $arr[<span class="hljs-number">3</span>];
	}
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">filterCode</span><span class="hljs-params">($data)</span> </span>{ <span class="hljs-comment">// Uncomment if you want to escape anything within a &lt;pre&gt; tag</span>
	<span class="hljs-comment">//$modifiedData = preg_replace_callback( '@(&lt;pre.*&gt;)(.*)(&lt;\/pre&gt;)@isU', 'escapeHTML', $data );</span>
	$modifiedData = preg_replace_callback( <span class="hljs-string">'@(&lt;code.*&gt;)(.*)(&lt;\/code&gt;)@isU'</span>, <span class="hljs-string">'escapeHTML'</span>, $data );
	$modifiedData = preg_replace_callback( <span class="hljs-string">'@(&lt;tt.*&gt;)(.*)(&lt;\/tt&gt;)@isU'</span>, <span class="hljs-string">'escapeHTML'</span>, $modifiedData );

	<span class="hljs-keyword">return</span> $modifiedData;
}
add_filter( <span class="hljs-string">'content_save_pre'</span>, <span class="hljs-string">'filterCode'</span>, <span class="hljs-number">9</span> );
add_filter( <span class="hljs-string">'excerpt_save_pre'</span>, <span class="hljs-string">'filterCode'</span>, <span class="hljs-number">9</span> );
</code></pre>
<p>Modified from <a href="https://wordpress.org/plugins/escape-html/">Escape HTML</a>.</p>
<h2 id="create-custom-global-settings">Create Custom Global Settings</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Create Custom Global Settings
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">custom_settings_page</span><span class="hljs-params">()</span> </span>{ <span class="hljs-meta">?&gt;</span>
	&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span>="<span class="hljs-title">wrap</span>"&gt;
	&lt;<span class="hljs-title">h1</span>&gt;<span class="hljs-title">Custom</span> <span class="hljs-title">Settings</span>&lt;/<span class="hljs-title">h1</span>&gt;
	&lt;<span class="hljs-title">form</span> <span class="hljs-title">method</span>="<span class="hljs-title">post</span>" <span class="hljs-title">action</span>="<span class="hljs-title">options</span>.<span class="hljs-title">php</span>"&gt;
		&lt;?<span class="hljs-title">php</span>
			<span class="hljs-title">settings_fields</span>( '<span class="hljs-title">section</span>' );
			<span class="hljs-title">do_settings_sections</span>( '<span class="hljs-title">theme</span>-<span class="hljs-title">options</span>' );
			<span class="hljs-title">submit_button</span>();
		?&gt;
	&lt;/<span class="hljs-title">form</span>&gt;
	&lt;/<span class="hljs-title">div</span>&gt;
&lt;?<span class="hljs-title">php</span> }

<span class="hljs-title">function</span> <span class="hljs-title">custom_settings_add_menu</span>() </span>{
	add_theme_page( <span class="hljs-string">'Custom Settings'</span>, <span class="hljs-string">'Custom Settings'</span>, <span class="hljs-string">'manage_options'</span>, <span class="hljs-string">'custom-settings'</span>, <span class="hljs-string">'custom_settings_page'</span>, <span class="hljs-keyword">null</span>, <span class="hljs-number">99</span> );
}
add_action( <span class="hljs-string">'admin_menu'</span>, <span class="hljs-string">'custom_settings_add_menu'</span> );

<span class="hljs-comment">// Example setting</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setting_twitter</span><span class="hljs-params">()</span> </span>{ <span class="hljs-meta">?&gt;</span>
	&lt;input type=<span class="hljs-string">"text"</span> name=<span class="hljs-string">"twitter"</span> id=<span class="hljs-string">"twitter"</span> value=<span class="hljs-string">"&lt;?php echo get_option('twitter'); ?&gt;"</span> /&gt;
<span class="hljs-meta">&lt;?php</span> }

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">custom_settings_page_setup</span><span class="hljs-params">()</span> </span>{
	add_settings_section( <span class="hljs-string">'section'</span>, <span class="hljs-string">'All Settings'</span>, <span class="hljs-keyword">null</span>, <span class="hljs-string">'theme-options'</span> );
	add_settings_field( <span class="hljs-string">'twitter'</span>, <span class="hljs-string">'Twitter Username'</span>, <span class="hljs-string">'setting_twitter'</span>, <span class="hljs-string">'theme-options'</span>, <span class="hljs-string">'section'</span> );
	register_setting( <span class="hljs-string">'section'</span>, <span class="hljs-string">'twitter'</span> );
}
add_action( <span class="hljs-string">'admin_init'</span>, <span class="hljs-string">'custom_settings_page_setup'</span> );
</code></pre>
<p>Retrieve Field</p>
<pre class="hljs"><code class="language-php"><span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">echo</span> get_option( <span class="hljs-string">'twitter'</span> ); <span class="hljs-meta">?&gt;</span>
</code></pre>
<p>Modified from <a href="http://www.sitepoint.com/create-a-wordpress-theme-settings-page-with-the-settings-api/">Create a WordPress Theme Settings Page with the Settings API</a>.</p>
<h2 id="remove-wordpress-admin-bar">Remove WordPress Admin Bar</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Remove WordPress Admin Bar
 */</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">remove_admin_bar</span><span class="hljs-params">()</span> </span>{
	remove_action( <span class="hljs-string">'wp_head'</span>, <span class="hljs-string">'_admin_bar_bump_cb'</span> );
}
add_action( <span class="hljs-string">'get_header'</span>, <span class="hljs-string">'remove_admin_bar'</span> );
</code></pre>
<h2 id="add-open-graph-meta-tags">Add Open Graph Meta Tags</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Add Open Graph Meta Tags
 */</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">meta_og</span><span class="hljs-params">()</span> </span>{
	<span class="hljs-keyword">global</span> $post;
	<span class="hljs-keyword">if</span> ( is_single() ) {
		<span class="hljs-keyword">if</span>( has_post_thumbnail( $post-&gt;ID ) ) {
			$img_src = wp_get_attachment_image_src( get_post_thumbnail_id( $post-&gt;ID ), <span class="hljs-string">'thumbnail'</span> );
		} 
		$excerpt = strip_tags($post-&gt;post_content);
		$excerpt_more = <span class="hljs-string">''</span>;
		<span class="hljs-keyword">if</span> ( strlen($excerpt ) &gt; <span class="hljs-number">155</span>) {
			$excerpt = substr($excerpt,<span class="hljs-number">0</span>,<span class="hljs-number">155</span>);
			$excerpt_more = <span class="hljs-string">' ...'</span>;
		}
		$excerpt = str_replace( <span class="hljs-string">'"'</span>, <span class="hljs-string">''</span>, $excerpt );
		$excerpt = str_replace( <span class="hljs-string">"'"</span>, <span class="hljs-string">''</span>, $excerpt );
		$excerptwords = preg_split( <span class="hljs-string">'/[\n\r\t ]+/'</span>, $excerpt, <span class="hljs-number">-1</span>, PREG_SPLIT_NO_EMPTY );
		array_pop( $excerptwords );
		$excerpt = implode( <span class="hljs-string">' '</span>, $excerptwords ) . $excerpt_more;
		<span class="hljs-meta">?&gt;</span>
&lt;meta name=<span class="hljs-string">"author"</span> content=<span class="hljs-string">"Your Name"</span>&gt;
&lt;meta name=<span class="hljs-string">"description"</span> content=<span class="hljs-string">"&lt;?php echo $excerpt; ?&gt;"</span>&gt;
&lt;meta property=<span class="hljs-string">"og:title"</span> content=<span class="hljs-string">"&lt;?php echo the_title(); ?&gt;"</span>&gt;
&lt;meta property=<span class="hljs-string">"og:description"</span> content=<span class="hljs-string">"&lt;?php echo $excerpt; ?&gt;"</span>&gt;
&lt;meta property=<span class="hljs-string">"og:type"</span> content=<span class="hljs-string">"article"</span>&gt;
&lt;meta property=<span class="hljs-string">"og:url"</span> content=<span class="hljs-string">"&lt;?php echo the_permalink(); ?&gt;"</span>&gt;
&lt;meta property=<span class="hljs-string">"og:site_name"</span> content=<span class="hljs-string">"Your Site Name"</span>&gt;
&lt;meta property=<span class="hljs-string">"og:image"</span> content=<span class="hljs-string">"&lt;?php echo $img_src[0]; ?&gt;"</span>&gt;
<span class="hljs-meta">&lt;?php</span>
	} <span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">return</span>;
	}
}
add_action(<span class="hljs-string">'wp_head'</span>, <span class="hljs-string">'meta_og'</span>, <span class="hljs-number">5</span>);
</code></pre>
<h2 id="add-custom-post-type">Add Custom Post Type</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Add Custom Post Type
 */</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">create_custom_post</span><span class="hljs-params">()</span> </span>{
	register_post_type( <span class="hljs-string">'custom-post'</span>, <span class="hljs-comment">// slug for custom post type</span>
		<span class="hljs-keyword">array</span>(
		<span class="hljs-string">'labels'</span> =&gt; <span class="hljs-keyword">array</span>(
			<span class="hljs-string">'name'</span> =&gt; __( <span class="hljs-string">'Custom Post'</span> ),
		),
		<span class="hljs-string">'public'</span> =&gt; <span class="hljs-keyword">true</span>,
		<span class="hljs-string">'hierarchical'</span> =&gt; <span class="hljs-keyword">true</span>, 
		<span class="hljs-string">'has_archive'</span> =&gt; <span class="hljs-keyword">true</span>,
		<span class="hljs-string">'supports'</span> =&gt; <span class="hljs-keyword">array</span>(
			<span class="hljs-string">'title'</span>,
			<span class="hljs-string">'editor'</span>,
			<span class="hljs-string">'excerpt'</span>,
			<span class="hljs-string">'thumbnail'</span>
		), 
		<span class="hljs-string">'can_export'</span> =&gt; <span class="hljs-keyword">true</span>,
		<span class="hljs-string">'taxonomies'</span> =&gt; <span class="hljs-keyword">array</span>(
				<span class="hljs-string">'post_tag'</span>,
				<span class="hljs-string">'category'</span>
		)
	));
}
add_action(<span class="hljs-string">'init'</span>, <span class="hljs-string">'create_custom_post'</span>);
</code></pre>
<h2 id="implement-preconnect-to-google-fonts-in-themes">Implement Preconnect to Google Fonts in Themes</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Implement Preconnect to Google Fonts in Themes
 */</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">twentyfifteen_resource_hints</span><span class="hljs-params">( $urls, $relation_type )</span> </span>{
	<span class="hljs-comment">// Checks whether the subject is carrying the source of fonts google and the `$relation_type` equals preconnect.</span>
	<span class="hljs-comment">// Replace `enqueue_font_id` the `ID` used in loading the source.</span>
	<span class="hljs-keyword">if</span> ( wp_style_is( <span class="hljs-string">'enqueue_font_id'</span>, <span class="hljs-string">'queue'</span> ) &amp;&amp; <span class="hljs-string">'preconnect'</span> === $relation_type ) {
		<span class="hljs-comment">// Checks whether the version of WordPress is greater than or equal to 4.7</span>
		<span class="hljs-comment">// to ensure conmpatibilidade with older versions</span>
		<span class="hljs-comment">// because the 4.7 has become necessary to return an array instead of string</span>
		<span class="hljs-keyword">if</span> ( version_compare( $GLOBALS[<span class="hljs-string">'wp_version'</span>], <span class="hljs-string">'4.7-alpha'</span>, <span class="hljs-string">'&gt;='</span> ) ) {
			<span class="hljs-comment">// Array with url google fonts and crossorigin</span>
			$urls[] = <span class="hljs-keyword">array</span>(
				<span class="hljs-string">'href'</span> =&gt; <span class="hljs-string">'https://fonts.gstatic.com'</span>,
				<span class="hljs-string">'crossorigin'</span>,
			);
		} <span class="hljs-keyword">else</span> {
			<span class="hljs-comment">// String with url google fonts</span>
			$urls[] = <span class="hljs-string">'https://fonts.gstatic.com'</span>;
		}
	}
	<span class="hljs-keyword">return</span> $urls;
}
add_filter( <span class="hljs-string">'wp_resource_hints'</span>, <span class="hljs-string">'twentyfifteen_resource_hints'</span>, <span class="hljs-number">10</span>, <span class="hljs-number">2</span> ); 
</code></pre>
<h2 id="add-thumbnail-column-to-post-listing">Add Thumbnail Column to Post Listing</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Add Thumbnail Column to Post Listing
 */</span>

add_image_size( <span class="hljs-string">'admin-list-thumb'</span>, <span class="hljs-number">80</span>, <span class="hljs-number">80</span>, <span class="hljs-keyword">false</span> );

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">wpcs_add_thumbnail_columns</span><span class="hljs-params">( $columns )</span> </span>{
     
    <span class="hljs-keyword">if</span> ( !is_array( $columns ) )
        $columns = <span class="hljs-keyword">array</span>();
    $new = <span class="hljs-keyword">array</span>();

    <span class="hljs-keyword">foreach</span>( $columns <span class="hljs-keyword">as</span> $key =&gt; $title ) {
        <span class="hljs-keyword">if</span> ( $key == <span class="hljs-string">'title'</span> ) <span class="hljs-comment">// Put the Thumbnail column before the Title column</span>
            $new[<span class="hljs-string">'featured_thumb'</span>] = __( <span class="hljs-string">'Image'</span>);
        $new[$key] = $title;
    }
    <span class="hljs-keyword">return</span> $new;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">wpcs_add_thumbnail_columns_data</span><span class="hljs-params">( $column, $post_id )</span> </span>{
    <span class="hljs-keyword">switch</span> ( $column ) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'featured_thumb'</span>:
        <span class="hljs-keyword">echo</span> <span class="hljs-string">'&lt;a href="'</span> . $post_id . <span class="hljs-string">'"&gt;'</span>;
        <span class="hljs-keyword">echo</span> the_post_thumbnail( <span class="hljs-string">'admin-list-thumb'</span> );
        <span class="hljs-keyword">echo</span> <span class="hljs-string">'&lt;/a&gt;'</span>;
        <span class="hljs-keyword">break</span>;
    }
}

<span class="hljs-keyword">if</span> ( function_exists( <span class="hljs-string">'add_theme_support'</span> ) ) {
    add_filter( <span class="hljs-string">'manage_posts_columns'</span> , <span class="hljs-string">'wpcs_add_thumbnail_columns'</span> );
    add_action( <span class="hljs-string">'manage_posts_custom_column'</span> , <span class="hljs-string">'wpcs_add_thumbnail_columns_data'</span>, <span class="hljs-number">10</span>, <span class="hljs-number">2</span> );
}
</code></pre>
<h2 id="add-lead-class-to-first-paragraph">Add Lead Class to First Paragraph</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Add Lead Class to First Paragraph
 */</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">first_paragraph</span><span class="hljs-params">( $content )</span> </span>{
	<span class="hljs-keyword">return</span> preg_replace( <span class="hljs-string">'/&lt;p([^&gt;]+)?&gt;/'</span>, <span class="hljs-string">'&lt;p$1 class="lead"&gt;'</span>, $content, <span class="hljs-number">1</span> );
}
add_filter( <span class="hljs-string">'the_content'</span>, <span class="hljs-string">'first_paragraph'</span> );
</code></pre>
<p>Adds a <code>lead</code> class to the first paragraph in <a href="https://developer.wordpress.org/reference/functions/the_content/">the_content</a>.</p>
<h2 id="exclude-custom-post-type-from-search">Exclude Custom Post Type from Search</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Exclude Custom Post Type from Search
 */</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">excludePages</span><span class="hljs-params">( $query )</span> </span>{
<span class="hljs-keyword">if</span> ( $query-&gt;is_search ) {
	$query-&gt;set( <span class="hljs-string">'post_type'</span>, <span class="hljs-string">'post'</span> );
}
	<span class="hljs-keyword">return</span> $query;
}
add_filter( <span class="hljs-string">'pre_get_posts'</span>,<span class="hljs-string">'excludePages'</span> );
</code></pre>
<h2 id="remove-query-string-from-static-resources">Remove Query String from Static Resources</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Remove Query String from Static Resources 
 */</span>
 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">remove_cssjs_ver</span><span class="hljs-params">( $src )</span> </span>{
 <span class="hljs-keyword">if</span>( strpos( $src, <span class="hljs-string">'?ver='</span> ) )
 $src = remove_query_arg( <span class="hljs-string">'ver'</span>, $src );
 <span class="hljs-keyword">return</span> $src;
}
add_filter( <span class="hljs-string">'style_loader_src'</span>, <span class="hljs-string">'remove_cssjs_ver'</span>, <span class="hljs-number">10</span>, <span class="hljs-number">2</span> );
add_filter( <span class="hljs-string">'script_loader_src'</span>, <span class="hljs-string">'remove_cssjs_ver'</span>, <span class="hljs-number">10</span>, <span class="hljs-number">2</span> );
</code></pre>
<h2 id="modify-jquery">Modify jQuery</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * modify jquery
 */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">modify_jquery</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span> ( !is_admin() &amp;&amp; !is_login_page() ) {
        <span class="hljs-comment">// comment out the next two lines to load the local copy of jQuery</span>
        wp_deregister_script(<span class="hljs-string">'jquery'</span>);
        <span class="hljs-comment">// wp_register_script('jquery', 'https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.js', false, '2.2.4');</span>
        wp_register_script(<span class="hljs-string">'jquery'</span>, <span class="hljs-string">'https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js'</span>, <span class="hljs-keyword">false</span>, <span class="hljs-string">'3.2.1'</span>);
        wp_enqueue_script(<span class="hljs-string">'jquery'</span>);
    }
}
add_action( <span class="hljs-string">'init'</span>, <span class="hljs-string">'modify_jquery'</span> );
</code></pre>
<h2 id="disable-website-field-from-comment-form">Disable Website Field From Comment Form</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/** 
 * Disable Website Field From Comment Form
 */</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">disable_website_field</span><span class="hljs-params">( $field )</span> </span>{ 
	<span class="hljs-keyword">if</span>( <span class="hljs-keyword">isset</span>($field[<span class="hljs-string">'url'</span>]) ) {
		<span class="hljs-keyword">unset</span>( $field[<span class="hljs-string">'url'</span>] );
	}
	<span class="hljs-keyword">return</span> $field;
}

add_filter(<span class="hljs-string">'comment_form_default_fields'</span>, <span class="hljs-string">'disable_website_field'</span>);
</code></pre>
<h2 id="disable-json-rest-api">Disable JSON Rest API</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/** 
 * Disable JSON Rest API  
 */</span>

add_filter(<span class="hljs-string">'json_enabled'</span>, <span class="hljs-string">'__return_false'</span>);
add_filter(<span class="hljs-string">'json_jsonp_enabled'</span>, <span class="hljs-string">'__return_false'</span>);
</code></pre>
<h2 id="switch-post-type">Switch post type</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * Switch post type
 */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">switch_post_type</span> <span class="hljs-params">( $old_post_type, $new_post_type )</span></span>{
	<span class="hljs-keyword">global</span> $wpdb;

	<span class="hljs-comment">// Run the update query</span>
	$wpdb-&gt;update(
		$wpdb-&gt;posts,
		<span class="hljs-comment">// Set</span>
		<span class="hljs-keyword">array</span>( <span class="hljs-string">'post_type'</span> =&gt; $new_post_type),
		<span class="hljs-comment">// Where</span>
		<span class="hljs-keyword">array</span>( <span class="hljs-string">'post_type'</span> =&gt; $old_post_type )
	);
}
</code></pre>
<h2 id="php-logger">PHP Logger</h2>
<pre class="hljs"><code class="language-php"><span class="hljs-comment">/**
 * PHP Logger
 */</span>
```php
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">php_logger</span><span class="hljs-params">( $data )</span> </span>{
	$output = $data;
	<span class="hljs-keyword">if</span> ( is_array( $output ) )
		$output = implode( <span class="hljs-string">','</span>, $output);
		
	<span class="hljs-comment">// print the result into the JavaScript console</span>
	<span class="hljs-keyword">echo</span> <span class="hljs-string">"&lt;script&gt;console.log( 'PHP LOG: "</span> . $output . <span class="hljs-string">"' );&lt;/script&gt;"</span>;
}
</code></pre>
